<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Panoramas by Wouter Reyniers</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <style>

      * {
        box-sizing: border-box;
      }
      html, body {
        background-color: #000;
        color: #fff;
        margin: 0px;
        padding: 0px;
        overflow: hidden;
        position:relative;
        font-family: 'Montserrat', 'sans-serif';
      }  

      canvas, .edge {cursor: move;}
      button, input[type="submit"], input[type="reset"] {
        background: none;
        color: inherit;
        border: none;
        padding: 0;
        font: inherit;
        cursor: pointer;
        outline: inherit;
      }

      .edge {
        position:absolute;
        width:10%;
        height:100%;
        top:0;      
      }

      .edge.left {
        left:0;
      }

      .edge.right {
        right:0;
      }

      .edge:hover button {
        opacity:.5;   
      }

      button.changePano {
        width:100px;
        height:100px;
        background:black;
        color:white;
        position:absolute;
        top:50%;
        margin-top:-50px;
        font-size:80px;
        text-align:center;
        line-height:100px;
        opacity:0;
        transition: opacity .5s ease-out;
        -moz-transition: opacity .5s ease-out;
        -webkit-transition: opacity .5s ease-out;
        -o-transition: opacity .5s ease-out;
      }

      button.changePano:hover {
        opacity:.75;
      } 

      button.prev {
        left:20px;
      }

      button.next {
        right:20px;
      }

      .playControl {
        position:absolute;
        bottom: 0;
        width:80%;
        left:10%;
        opacity:0;
        transition: opacity .5s ease-out;
        -moz-transition: opacity .5s ease-out;
        -webkit-transition: opacity .5s ease-out;
        -o-transition: opacity .5s ease-out;
        text-align:center;
        padding: 100px 0;
      }

      .playControl button {
        width:100px;
        height:100px;
        line-height:100px;
        font-size:40px;
        margin:0 auto;
        display:inline-block;
      }

      .playControl:hover {
          opacity:.75;
      }

      .playControl .pause, .playControl .volume-off {
        display:none;
      }

      .playControl.playing .pause, .playControl.audioPlaying .volume-off {
        display:inline-block;
      }

      .playControl.playing .play, .playControl.audioPlaying .volume-up {
        display:none;
      }

      #glcanvas{ 
        display:none;
        opacity:.5;
        position:absolute;
      }

      .parameters{
        position: absolute;
        background: rgba(0,0,0,.5);
        bottom: 50px;
        right: 50px;
        width: 200px;
        z-index:100;
        padding:20px;
        display:none;
      }

      .panoPlaceholder {
        position:absolute;
      }

      .loader {
        position: absolute;
        width:60%;
        padding:30px;
        z-index:1010;
        background:#27252c;
        opacity:1;
        transition: opacity 0.5s ease-out;
        -moz-transition: opacity 0.5s ease-out;
        -webkit-transition: opacity 0.5s ease-out;
        -o-transition: opacity 0.5s ease-out;
        box-shadow: 0 0 20px -1px #27252c;  
                
        /* Center vertically + horizontally */
        top: 50%;
        left: 50%;
        -ms-transform: translate(-50%, -50%);
        transform: translate(-50%, -50%);
        margin:0;
      }

      .loader.hide {
        opacity:0;
      }

      .loader .percentageCounter {
        font-size:16px;
        text-align: center;
        display:inline-block;
        top:-22px;
        position:relative;
        width:100%;
      }

      .loader .byteCounter {
        position:relative;
        width:98%;
        color:#a4a4a4;
        font-size:12px;
        text-align:right;
        display:block;
        padding-bottom:10px;
        margin-left:1%;
      }

      .loader .description {
        text-align:center;
        display:inline-block;
        width:100%;
        font-size:20px;
        margin-bottom:25px;
      }

      .counter{
        display: inline-block;
        width: 98%;
        
        position:relative;
        left:50%;
        margin-left:-49%;

      }

      progress {
        height:25px;
        width:100%;
        border-radius: 10px;
        background-color: #333039;
        box-shadow: 0 1px 0 #4d4856;
        border:none;

      }

      progress::-moz-progress-bar {
        border-radius:10px;
                box-shadow: 0 1px 0 #4d4856;

      }

      progress::-webkit-progress-bar{
        height: 25px;
        border: 1px solid #2b2931;
        border-radius: 10px;
        background-color: #333039;
        box-shadow: 0 1px 0 #4d4856;
      }

      progress::-webkit-progress-value{
        height: 24px;
        background-color: #0077c6;
        border: 1px solid #30a1e1;
        border-radius: 10px;
        box-shadow: 0 0 20px -1px #005db9;  
      }
    </style>
  </head>
  <body>

    <!-- Get font weight ready for canvas -->
    <div style="font-weight: 700; position: fixed; opacity:0;">Hello</div>

    <canvas id="glcanvas" width="1600" height="260">
      Your browser does not support the canvas element.
    </canvas>

    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700,800,900&display=swap" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
    <script src="js/lib/fetch.js"></script>
    <script src="https://threejs.org/build/three.js"></script>
    <script src="https://kit.fontawesome.com/c98c42096d.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.3/TweenMax.min.js"></script>
    <script src="js/main.js"></script>  

    <div class="loader">    
      <div class="counter">
          <span class="description">Downloading panorama image...</span>
          <progress id="bar" value="0" max="100" ng-model="prog"></progress>
          <span class="percentageCounter"></span>
          <span class="byteCounter"></span>
      </div>
    </div>
    
    <div class="parameters">
      <div>lat: <span class="latVal"></span></div>
      <div>lon: <span class="lonVal"></span></div>
      <div>fov: <span class="fovVal"></span></div>
      <div>waypoint: <span class="waypoint"></span></div>
      <div>latDiff: <span class="latDiff"></span></div>
      <div>lonDiff: <span class="lonDiff"></span></div>
      <div>fovDiff: <span class="fovDiff"></span></div>
    </div>

    <div class="edge left">
      <button class="changePano prev" ><i class="fas fa-chevron-left"></i></button>
    </div>

    <div class="edge right">
      <button class="changePano next"><i class="fas fa-chevron-right"></i></button>
    </div>

    <div class="playControl">
      <button class="play"><i class="fas fa-play"></i></button>
      <button class="pause"><i class="fas fa-pause"></i></button>
      <button class="volume-up"><i class="fas fa-volume-up"></i></button>
      <button class="volume-off"><i class="fas fa-volume-off"></i></button>
    </div>
    
  </body>
</html>
